# PMC 2023 – Replication package

This repository contains the replication package and dataset of the paper published in the Pervasive and Mobile Computing Journal with the title **Studying users’ perception of IoT mobile companion apps**.

This study has been designed, developed, and reported by the following investigators:

- Gian Luca Scoccia (Università degli Studi dell'Aquila)
- Romina Eramo  (Università degli Studi di Teramo)
- Marco Autili  (Università degli Studi dell'Aquila)

For any information, interested researchers can contact us by sending an email to any of the investigators listed above. 
The full dataset including raw data, mining scripts, and analysis scripts produced during the study are available below.

## How to cite

Use the following to cite our study:

```
@article{SCOCCIA2023101786,
title = {Studying users’ perception of IoT mobile companion apps},
journal = {Pervasive and Mobile Computing},
pages = {101786},
year = {2023},
issn = {1574-1192},
doi = {https://doi.org/10.1016/j.pmcj.2023.101786},
url = {https://www.sciencedirect.com/science/article/pii/S1574119223000445},
author = {Gian Luca Scoccia and Romina Eramo and Marco Autili},
keywords = {Apps, IoT, Android, iOS, Opinion mining, Review analysis}
}
```

## Data

Due to GitHub file size limitations only some data files are available in this repository. To obtain the full data and replicate our results please dowload the raw data from the link below and run the analysis scripts: 

URL to data: https://mega.nz/folder/YwtAkIzB#soNQ-HdWmhmEFvJxDoTc_A

## Overview of the replication package

This repository is structured as follows:

```
/
|--- notebook/
|--- Manual_analysis.xlsx
```

The ``notebook`` folder is structured as follows:

```
/
|--- data/
|--- figures/
|--- ios/
|--- store_scraper/
|--- scrape_companion_apps.py
|--- scrape_store_info_Android.py
|--- downloadReviews.py
|--- parseReviews.py
|--- analysis.py
|--- extractSample.py
```
Below a description of all files and folders:

### data 

The folder that hosts all the raw and intermediate data consumed by the scripts. Please, refer to the notice above on how to obtain the data.

### figures

All the figures used in the paper, these were generated by the analysis scripts.

### ios

A folder with all the scripts for the analysis of iOS reviews. These mirror the structure and purpose of Android ones described below.

### store_scraper

The tool used to collect reviews from the Google Play Store and Apple App Store. We used a Python wrapper around the [google-play-scraper](https://github.com/facundoolano/google-play-scraper) and [app-store-scraper](https://github.com/facundoolano/app-store-scraper) projects. Please refer to the two projects documentation. Notice that these tools are frequently updated to deal with changes introduced by the app stores, hence you will likely need an updated version obtainable from the two repositories.

#### scrape_companion_apps.py

The script used to collect the lists of companion apps from SmartHomeDB.

#### scrape_store_info_Android.py

The script used to collect app metadata from the Google Play store for each companion app.

#### downloadReviews.py

The script that collects raw Android reviews from the Google Play Store. 

#### parseReviews.py

The script analyzes downloaded reviews in order to 1) remove short reviews, 2) remove reviews in non-english language, 3) perform sentiment analysis. 

#### analysis.py

The script that takes as input the filtered app store reviews and performs all the analysis steps described in the paper and generates all figures.

#### extractSample.py

The scripts used to extract a sample of reviews for the manual analysis. Details of the sampling procedure are described in the paper.

#### Manual_analysis.xlsx

The spreadsheet with the merged results of the manual analysis, performed by two researchers on a sample of Android and iOS reviews.


